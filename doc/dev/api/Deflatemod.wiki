=Module <<a_api_type | module Deflatemod >> =
<<pre class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|module>> <<span class="ocsforge_color_uid"|<<span class="ocsforge_color_uid"|Deflatemod>>>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="ocsforge_color_keyword"|sig>><<a_api text=".." | module Deflatemod >><<span class="ocsforge_color_keyword"|end>>>>~Deflatemod~: compress output data

----

~If you want to use this extension with ~Ocsigen ~Server~'s configuration file~, #   have a look at the <<a_manual chapter="deflatemod"|manual page>>~.
#   ~If you are using ~Ocsigen ~Server as a library~, use the interface described
#   here~. ~Each of these functions behaves exactly as its configuration file
    counterpart~. 
~+



~This module belongs to ocamlfind package
   <<span class="odocwiki_inlinecode"|ocsigenserver~.ext~.deflatemod>>~.

~Example of use~:

<<code language='ocaml'|let _ =
   Ocsigen_server.start
     [ Ocsigen_server.host ~regexp:".*"
       [ Staticmod.run ~dir:"static" () 
       ; Deflatemod.run
           ~mode:(`Only [ `Type (Some "text", Some "html")
                        ; `Type (Some "text", Some "javascript")
                        ; `Type (Some "text", Some "css")
                        ; `Type (Some "application", Some "javascript")
                        ; `Type (Some "application", Some "x-javascript")
                        ; `Type (Some "application", Some "xhtml+xml")
                        ; `Type (Some "image", Some "svg+xml")
                        ; `Type (Some "application", Some "x-eliom")]) ()
        ]]
>>

<<pre id="VALset_compress_level" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|set~_compress~_level>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|int <<span class="ocsforge_color_delimiter"| -> >> unit>>>><<pre id="VALset_buffer_size" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|set~_buffer~_size>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|int <<span class="ocsforge_color_delimiter"| -> >> unit>>>><<pre class="ocsforge_color odocwiki_code" id="TYPEfilter"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_name"|filter>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="odocwiki_type"|[ `Extension of string | `Type of string option * string option ]>> >><<div class="odocwiki_info"|~Describes the content to deflate~, either using its content type~, 
   or file extension
>>
<<pre id="VALrun" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|run>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| mode: >>[ `All_but of <<a_api text="filter" | type Deflatemod.filter >> list\\       | `Only of <<a_api text="filter" | type Deflatemod.filter >> list ] <<span class="ocsforge_color_delimiter"| -> >>\\  unit <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="Ocsigen_server.instruction" | type Ocsigen_server.instruction >>>>>><<div class="odocwiki_info"|<<span class="odocwiki_inlinecode"|run ~~mode ~(~)>> makes it possible to use this extension without
    configuration file~.
>>
<<pre id="VALsection" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|section>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<span class="ocsforge_color_uid"|Lwt_log_core>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|section>>>>>><<div class="odocwiki_info"|~Use ~Lwt~_log~.~Section~.set~_level in order to change the log level
>>
