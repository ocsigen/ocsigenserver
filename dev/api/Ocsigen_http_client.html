<html><head><title>Module Ocsigen_http_client </title><meta charset="utf8"/><meta content="width=device-width, initial-scale=1" name="viewport"/><link rel="stylesheet" href="https://ocsigen.org/css/style.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/themes/prism.min.css"/><script type="text/javascript" src="https://ocsigen.org/js/client.js">
//<![CDATA[

//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-core.min.js">
//<![CDATA[

//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-ocaml.min.js">
//<![CDATA[

//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-clike.min.js">
//<![CDATA[

//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-reason.min.js">
//<![CDATA[

//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-javascript.min.js">
//<![CDATA[

//]]>
</script></head><body class="Ocsigen_http_client ocsigenserver"><div class="project-page"><div class="page-header"><p class="logo-ocsigen"><a href=".././../../" class="ocsimore_phrasing_link"><img src=".././../../img/ocsigen-white.svg" alt="Ocsigen"/></a>
</p><p class="logo-subproject">Server</p><div class="mainmenu"><p class="mainmenu-home"><a href=".././../../" class="ocsimore_phrasing_link">Home</a></p><p class="mainmenu-doc"><a href=".././../../tuto/" class="ocsimore_phrasing_link">Doc</a></p><p><a href=".././../../eliom/" class="ocsimore_phrasing_link">Eliom</a></p><p><a href=".././../../js_of_ocaml/" class="ocsimore_phrasing_link">Js_of_ocaml</a></p><p><a href=".././../../lwt/" class="ocsimore_phrasing_link">Lwt</a></p><p><a href=".././../../tyxml/" class="ocsimore_phrasing_link">Tyxml</a></p><p><a href=".././../../ocsigen-start/" class="ocsimore_phrasing_link">Start</a></p></div><form id="googlesearch" action="https://google.com/search"><input name="q" id="gsearch-box" placeholder="Search using Google"/><label for="gsearch-box"><img src="/img/search.svg" alt="" id="gsearch-icon"/></label><input type="submit" id="gsearch-submit" onclick="document.getElementById('gsearch-box').value += ' site:ocsigen.org';"/></form><aside class="how-drawer"><input id="how-drawer-toggle" type="checkbox"/><label for="how-drawer-toggle" id="how-drawer-label"><span class="how-drawer-icon"></span></label><nav class="how-drawer-content"><ul class="drawermainmenu"><li class="drawermainmenu-home"><a href=".././../../" class="ocsimore_phrasing_link">Home</a>
</li><li class="drawermainmenu-doc"><a href=".././../../tuto/" class="ocsimore_phrasing_link">Doc</a>
</li><li class="drawermainmenu-project"><a href=".././../../eliom/" class="ocsimore_phrasing_link">Eliom</a>
</li><li class="drawermainmenu-project"><a href=".././../../js_of_ocaml/" class="ocsimore_phrasing_link">Js_of_ocaml</a>
</li><li class="drawermainmenu-project"><a href=".././../../ocsigenserver/" class="ocsimore_phrasing_link">Server</a>
</li><li class="drawermainmenu-project"><a href=".././../../lwt/" class="ocsimore_phrasing_link">Lwt</a>
</li><li class="drawermainmenu-project"><a href=".././../../tyxml/" class="ocsimore_phrasing_link">Tyxml</a>
</li><li class="drawermainmenu-project"><a href=".././../../ocsigen-toolkit/" class="ocsimore_phrasing_link">Toolkit</a>
</li><li class="drawermainmenu-project"><a href=".././../../ocsigen-start/" class="ocsimore_phrasing_link">Start</a>
</li><li class="drawermainmenu-project"><a href=".././../../ocsipersist/" class="ocsimore_phrasing_link">Ocsipersist</a>
</li><li class="drawermainmenu-project"><a href=".././../../html_of_wiki/" class="ocsimore_phrasing_link">html_of_wiki</a>
</li><li class="drawermainmenu-project"><a href=".././../../ocsimore/" class="ocsimore_phrasing_link">Ocsimore (<em>deprecated</em>)</a>
</li><li class="drawermainmenu-page"><a href=".././../../projects" class="ocsimore_phrasing_link">Other projects</a>
</li><li class="drawermainmenu-page"><a href=".././../../papers" class="ocsimore_phrasing_link">Research papers</a>
</li><li class="drawermainmenu-page"><a href=".././../../credits" class="ocsimore_phrasing_link">Who does Ocsigen?</a>
</li><li class="drawermainmenu-page"><a href=".././../../contributing" class="ocsimore_phrasing_link">Contributing</a>
</li><li class="drawermainmenu-page"><a href=".././../../blog" class="ocsimore_phrasing_link">Blog</a>
</li><li class="drawermainmenu-page"><a href=".././../../install" class="ocsimore_phrasing_link">Installation</a>
</li><li class="drawermainmenu-page"><a href="https://github.com/ocsigen" class="ocsimore_phrasing_link">Source code</a>
</li></ul><nav class="how-doctree"><h1>Ocsigen server</h1><h2>Usage</h2><h3><a href=".././manual/quickstart" class="ocsimore_phrasing_link">Quick start</a></h3><h3><a href=".././manual/launching" class="ocsimore_phrasing_link">Launching the server</a></h3><h3><a href=".././manual/config" class="ocsimore_phrasing_link">Configuration file</a></h3><h3><a href=".././manual/staticlink" class="ocsimore_phrasing_link">Using as a library</a></h3><h2>Extensions</h2><h3><a href=".././manual/staticmod" class="ocsimore_phrasing_link">Staticmod</a></h3><h3><a href=".././manual/eliom" class="ocsimore_phrasing_link">Eliom</a></h3><h3><a href=".././manual/extendconfiguration" class="ocsimore_phrasing_link">Extendconfiguration</a></h3><h3><a href=".././manual/accesscontrol" class="ocsimore_phrasing_link">Accesscontrol</a></h3><h3><a href=".././manual/authbasic" class="ocsimore_phrasing_link">Authbasic</a></h3><h3><a href=".././manual/cgimod" class="ocsimore_phrasing_link">CGImod</a></h3><h3><a href=".././manual/deflatemod" class="ocsimore_phrasing_link">Deflatemod</a></h3><h3><a href=".././manual/redirectmod" class="ocsimore_phrasing_link">Redirectmod</a></h3><h3><a href=".././manual/revproxy" class="ocsimore_phrasing_link">Revproxy</a></h3><h3><a href=".././manual/rewritemod" class="ocsimore_phrasing_link">Rewritemod</a></h3><h3><a href=".././manual/outputfilter" class="ocsimore_phrasing_link">Outputfilter</a></h3><h3><a href=".././manual/userconf" class="ocsimore_phrasing_link">Userconf</a></h3><h3><a href=".././manual/comet" class="ocsimore_phrasing_link">Comet</a></h3><h3><a href=".././manual/cors" class="ocsimore_phrasing_link">CORS</a></h3><h2>Developer documentation</h2><h3><a href=".././manual/extend" class="ocsimore_phrasing_link">Writing an extension</a></h3><h3><a href=".././manual/libraries" class="ocsimore_phrasing_link">Libraries</a></h3><h1>Ocsigen server - API reference</h1><h2>Extensions</h2><h3><a href=".././api/Staticmod" class="ocsimore_phrasing_link">Staticmod</a></h3><h3><a href=".././api/Extendconfiguration" class="ocsimore_phrasing_link">Extendconfiguration</a></h3><h3><a href=".././api/Accesscontrol" class="ocsimore_phrasing_link">Accesscontrol</a></h3><h3><a href=".././api/Authbasic" class="ocsimore_phrasing_link">Authbasic</a></h3><h3><a href=".././api/CGImod" class="ocsimore_phrasing_link">CGImod</a></h3><h3><a href=".././api/Deflatemod" class="ocsimore_phrasing_link">Deflatemod</a></h3><h3><a href=".././api/Redirectmod" class="ocsimore_phrasing_link">Redirectmod</a></h3><h3><a href=".././api/Revproxy" class="ocsimore_phrasing_link">Revproxy</a></h3><h3><a href=".././api/Rewritemod" class="ocsimore_phrasing_link">Rewritemod</a></h3><h3><a href=".././api/Outputfilter" class="ocsimore_phrasing_link">Outputfilter</a></h3><h3><a href=".././api/Userconf" class="ocsimore_phrasing_link">Userconf</a></h3><h3><a href=".././api/Comet" class="ocsimore_phrasing_link">Comet</a></h3><h3><a href=".././api/CORS" class="ocsimore_phrasing_link">CORS</a></h3><h2>Persistent data, writing in the logs, configuration file extension, polymorphic tables</h2><h3><a href=".././api/Ocsigen_lib" class="ocsimore_phrasing_link">Ocsigen_lib</a></h3><h3><a href=".././api/Ocsigen_messages" class="ocsimore_phrasing_link">Ocsigen_messages</a></h3><h3><a href=".././api/Ocsigen_parseconfig" class="ocsimore_phrasing_link">Ocsigen_parseconfig</a></h3><h3><a href=".././api/Polytables" class="ocsimore_phrasing_link">Polytables</a></h3><h3><a href=".././api/Ocsigen_cache" class="ocsimore_phrasing_link">Ocsigen_cache</a></h3><h3><a href=".././api/Ocsipersist" class="ocsimore_phrasing_link">Ocsipersist</a></h3><h3><a href=".././api/Ocsigen_config" class="ocsimore_phrasing_link">Ocsigen_config</a></h3><h2>Extending Ocsigen Server</h2><h3><a href=".././api/Ocsigen_extensions" class="ocsimore_phrasing_link">Ocsigen_extensions</a></h3><h3><a href=".././api/Ocsigen_local_files" class="ocsimore_phrasing_link">Ocsigen_local_files</a></h3><h3><a href=".././api/Ocsigen_headers" class="ocsimore_phrasing_link">Ocsigen_headers</a></h3><h3><a href=".././api/Ocsigen_senders" class="ocsimore_phrasing_link">Ocsigen_senders</a></h3><h3><a href=".././api/Ocsigen_http_frame" class="ocsimore_phrasing_link">Ocsigen_http_frame</a></h3><h3><a href=".././api/Ocsigen_http_client" class="ocsimore_phrasing_link">Ocsigen_http_client</a></h3><h3><a href=".././api/Ocsigen_http_com" class="ocsimore_phrasing_link">Ocsigen_http_com</a></h3><h3><a href=".././api/Ocsigen_stream" class="ocsimore_phrasing_link">Ocsigen_stream</a></h3><h3><a href=".././api/Ocsigen_comet" class="ocsimore_phrasing_link">Ocsigen_comet</a></h3><h2>Indexes</h2><h3> <span><a href=".././api/index_types">Index of types</a></span></h3><h3> <span><a href=".././api/index_exceptions">Index of exceptions</a></span></h3><h3> <span><a href=".././api/index_values">Index of values</a></span></h3><h3> <span><a href=".././api/index_methods">Index of class methods</a></span></h3><h3> <span><a href=".././api/index_classes">Index of classes</a></span></h3><h3> <span><a href=".././api/index_modules">Index of modules</a></span></h3><h3> <span><a href=".././api/index_module_types">Index of module types</a></span></h3></nav></nav></aside></div><p class="reasonwarning">Warning: Reason support is experimental.
We are looking for beta-tester and contributors.
</p><button id="reason">Switch to </button><div class="twocols"><nav class="leftcol">Version <select class="how-versions" onchange="location = this.value;"><option value=".././../dev/api/Ocsigen_http_client" selected="selected">dev</option><option value=".././../2.9/api/Ocsigen_http_client">2.9</option><option value=".././../2.8/api/Ocsigen_http_client">2.8</option><option value=".././../2.7/api/Ocsigen_http_client">2.7</option><option value=".././../2.6/api/Ocsigen_http_client">2.6</option><option value=".././../2.5/api/Ocsigen_http_client">2.5</option><option value=".././../2.3/api/Ocsigen_http_client">2.3</option><option value=".././../2.2/api/Ocsigen_http_client">2.2</option><option value=".././../2.1/api/Ocsigen_http_client">2.1</option><option value=".././../1.3.4/api/Ocsigen_http_client">1.3.4</option><option value=".././../1.2.2/api/Ocsigen_http_client">1.2.2</option><option value=".././../1.1.0/api/Ocsigen_http_client">1.1.0</option></select><nav class="how-doctree"><h1>Ocsigen server</h1><h2>Usage</h2><h3><a href=".././manual/quickstart" class="ocsimore_phrasing_link">Quick start</a></h3><h3><a href=".././manual/launching" class="ocsimore_phrasing_link">Launching the server</a></h3><h3><a href=".././manual/config" class="ocsimore_phrasing_link">Configuration file</a></h3><h3><a href=".././manual/staticlink" class="ocsimore_phrasing_link">Using as a library</a></h3><h2>Extensions</h2><h3><a href=".././manual/staticmod" class="ocsimore_phrasing_link">Staticmod</a></h3><h3><a href=".././manual/eliom" class="ocsimore_phrasing_link">Eliom</a></h3><h3><a href=".././manual/extendconfiguration" class="ocsimore_phrasing_link">Extendconfiguration</a></h3><h3><a href=".././manual/accesscontrol" class="ocsimore_phrasing_link">Accesscontrol</a></h3><h3><a href=".././manual/authbasic" class="ocsimore_phrasing_link">Authbasic</a></h3><h3><a href=".././manual/cgimod" class="ocsimore_phrasing_link">CGImod</a></h3><h3><a href=".././manual/deflatemod" class="ocsimore_phrasing_link">Deflatemod</a></h3><h3><a href=".././manual/redirectmod" class="ocsimore_phrasing_link">Redirectmod</a></h3><h3><a href=".././manual/revproxy" class="ocsimore_phrasing_link">Revproxy</a></h3><h3><a href=".././manual/rewritemod" class="ocsimore_phrasing_link">Rewritemod</a></h3><h3><a href=".././manual/outputfilter" class="ocsimore_phrasing_link">Outputfilter</a></h3><h3><a href=".././manual/userconf" class="ocsimore_phrasing_link">Userconf</a></h3><h3><a href=".././manual/comet" class="ocsimore_phrasing_link">Comet</a></h3><h3><a href=".././manual/cors" class="ocsimore_phrasing_link">CORS</a></h3><h2>Developer documentation</h2><h3><a href=".././manual/extend" class="ocsimore_phrasing_link">Writing an extension</a></h3><h3><a href=".././manual/libraries" class="ocsimore_phrasing_link">Libraries</a></h3><h1>Ocsigen server - API reference</h1><h2>Extensions</h2><h3><a href=".././api/Staticmod" class="ocsimore_phrasing_link">Staticmod</a></h3><h3><a href=".././api/Extendconfiguration" class="ocsimore_phrasing_link">Extendconfiguration</a></h3><h3><a href=".././api/Accesscontrol" class="ocsimore_phrasing_link">Accesscontrol</a></h3><h3><a href=".././api/Authbasic" class="ocsimore_phrasing_link">Authbasic</a></h3><h3><a href=".././api/CGImod" class="ocsimore_phrasing_link">CGImod</a></h3><h3><a href=".././api/Deflatemod" class="ocsimore_phrasing_link">Deflatemod</a></h3><h3><a href=".././api/Redirectmod" class="ocsimore_phrasing_link">Redirectmod</a></h3><h3><a href=".././api/Revproxy" class="ocsimore_phrasing_link">Revproxy</a></h3><h3><a href=".././api/Rewritemod" class="ocsimore_phrasing_link">Rewritemod</a></h3><h3><a href=".././api/Outputfilter" class="ocsimore_phrasing_link">Outputfilter</a></h3><h3><a href=".././api/Userconf" class="ocsimore_phrasing_link">Userconf</a></h3><h3><a href=".././api/Comet" class="ocsimore_phrasing_link">Comet</a></h3><h3><a href=".././api/CORS" class="ocsimore_phrasing_link">CORS</a></h3><h2>Persistent data, writing in the logs, configuration file extension, polymorphic tables</h2><h3><a href=".././api/Ocsigen_lib" class="ocsimore_phrasing_link">Ocsigen_lib</a></h3><h3><a href=".././api/Ocsigen_messages" class="ocsimore_phrasing_link">Ocsigen_messages</a></h3><h3><a href=".././api/Ocsigen_parseconfig" class="ocsimore_phrasing_link">Ocsigen_parseconfig</a></h3><h3><a href=".././api/Polytables" class="ocsimore_phrasing_link">Polytables</a></h3><h3><a href=".././api/Ocsigen_cache" class="ocsimore_phrasing_link">Ocsigen_cache</a></h3><h3><a href=".././api/Ocsipersist" class="ocsimore_phrasing_link">Ocsipersist</a></h3><h3><a href=".././api/Ocsigen_config" class="ocsimore_phrasing_link">Ocsigen_config</a></h3><h2>Extending Ocsigen Server</h2><h3><a href=".././api/Ocsigen_extensions" class="ocsimore_phrasing_link">Ocsigen_extensions</a></h3><h3><a href=".././api/Ocsigen_local_files" class="ocsimore_phrasing_link">Ocsigen_local_files</a></h3><h3><a href=".././api/Ocsigen_headers" class="ocsimore_phrasing_link">Ocsigen_headers</a></h3><h3><a href=".././api/Ocsigen_senders" class="ocsimore_phrasing_link">Ocsigen_senders</a></h3><h3><a href=".././api/Ocsigen_http_frame" class="ocsimore_phrasing_link">Ocsigen_http_frame</a></h3><h3><a href=".././api/Ocsigen_http_client" class="ocsimore_phrasing_link">Ocsigen_http_client</a></h3><h3><a href=".././api/Ocsigen_http_com" class="ocsimore_phrasing_link">Ocsigen_http_com</a></h3><h3><a href=".././api/Ocsigen_stream" class="ocsimore_phrasing_link">Ocsigen_stream</a></h3><h3><a href=".././api/Ocsigen_comet" class="ocsimore_phrasing_link">Ocsigen_comet</a></h3><h2>Indexes</h2><h3> <span><a href=".././api/index_types">Index of types</a></span></h3><h3> <span><a href=".././api/index_exceptions">Index of exceptions</a></span></h3><h3> <span><a href=".././api/index_values">Index of values</a></span></h3><h3> <span><a href=".././api/index_methods">Index of class methods</a></span></h3><h3> <span><a href=".././api/index_classes">Index of classes</a></span></h3><h3> <span><a href=".././api/index_modules">Index of modules</a></span></h3><h3> <span><a href=".././api/index_module_types">Index of module types</a></span></h3></nav></nav><article class="rightcol"><h1>Module <span><a href=".././api/Ocsigen_http_client">Ocsigen_http_client</a></span> </h1><pre class="ocsforge_color odocwiki_code"><span class="ocsforge_color_keyword">module</span> <span class="ocsforge_color_uid"><span class="ocsforge_color_uid">Ocsigen_http_client</span></span> <span class="ocsforge_color_delimiter">:</span> <span class="ocsforge_color_keyword">sig</span><span><a href=".././api/Ocsigen_http_client">..</a></span><span class="ocsforge_color_keyword">end</span></pre><p>Using Ocsigen as a HTTP client
</p><hr/><pre class="ocsforge_color odocwiki_code" id="VALget"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">get</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?v6:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?https:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?port:</span>int <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?headers:</span><span><a href=".././api/Http_headers#TYPEt">Http_headers.t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">host:</span>string <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_label">uri:</span>string <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Ocsigen_http_frame#TYPEt">Ocsigen_http_frame.t</a></span> <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Do a GET HTTP request.
The default port is 80 for HTTP, 443 for HTTPS.
The default protocol is http (<span class="odocwiki_inlinecode">https=false</span>).
</p><p>Warning: the stream must be finalized manually after reading, using
<span><a href=".././api/Ocsigen_stream#VALfinalize">Ocsigen_stream.finalize</a></span>, otherwise you will have fd leaks.</p></div><pre class="ocsforge_color odocwiki_code" id="VALget_url"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">get_url</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?v6:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?headers:</span><span><a href=".././api/Http_headers#TYPEt">Http_headers.t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> string <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Ocsigen_http_frame#TYPEt">Ocsigen_http_frame.t</a></span> <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Do a GET HTTP request. The string must be a full URL.
</p><p>Warning: the stream must be finalized manually after reading, using
<span><a href=".././api/Ocsigen_stream#VALfinalize">Ocsigen_stream.finalize</a></span>, otherwise you will have fd leaks.</p></div><pre class="ocsforge_color odocwiki_code" id="VALpost_string"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">post_string</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?v6:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?https:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?port:</span>int <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?headers:</span><span><a href=".././api/Http_headers#TYPEt">Http_headers.t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">host:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">uri:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">content:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">content_type:</span>string * string <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Ocsigen_http_frame#TYPEt">Ocsigen_http_frame.t</a></span> <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Do a POST HTTP request.
The default port is 80 for HTTP, 443 for HTTPS.
The default protocol is http (<span class="odocwiki_inlinecode">https=false</span>).
</p><p>Warning: the stream must be finalized manually after reading, using
<span><a href=".././api/Ocsigen_stream#VALfinalize">Ocsigen_stream.finalize</a></span>, otherwise you will have fd leaks.</p></div><pre class="ocsforge_color odocwiki_code" id="VALpost_string_url"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">post_string_url</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?v6:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?headers:</span><span><a href=".././api/Http_headers#TYPEt">Http_headers.t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">content:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">content_type:</span>string * string <span class="ocsforge_color_delimiter">-&gt;</span> string <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Ocsigen_http_frame#TYPEt">Ocsigen_http_frame.t</a></span> <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Do a GET HTTP request. The string must be a full URL.
</p><p>Warning: the stream must be finalized manually after reading, using
<span><a href=".././api/Ocsigen_stream#VALfinalize">Ocsigen_stream.finalize</a></span>, otherwise you will have fd leaks.</p></div><pre class="ocsforge_color odocwiki_code" id="VALpost_urlencoded"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">post_urlencoded</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?v6:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?https:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?port:</span>int <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?headers:</span><span><a href=".././api/Http_headers#TYPEt">Http_headers.t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">host:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">uri:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">content:</span><span class="ocsforge_color_delimiter">(</span>string * string<span class="ocsforge_color_delimiter">)</span> list <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Ocsigen_http_frame#TYPEt">Ocsigen_http_frame.t</a></span> <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Do a POST HTTP request with URL encoded parameters as content.
The default port is 80 for HTTP, 443 for HTTPS.
The default protocol is http (<span class="odocwiki_inlinecode">https=false</span>).
</p><p>Warning: the stream must be finalized manually after reading, using
<span><a href=".././api/Ocsigen_stream#VALfinalize">Ocsigen_stream.finalize</a></span>, otherwise you will have fd leaks.</p></div><pre class="ocsforge_color odocwiki_code" id="VALpost_urlencoded_url"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">post_urlencoded_url</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?v6:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?headers:</span><span><a href=".././api/Http_headers#TYPEt">Http_headers.t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">content:</span><span class="ocsforge_color_delimiter">(</span>string * string<span class="ocsforge_color_delimiter">)</span> list <span class="ocsforge_color_delimiter">-&gt;</span> string <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Ocsigen_http_frame#TYPEt">Ocsigen_http_frame.t</a></span> <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Do a GET HTTP request with URL encoded parameters as content.
The string must be a full URL.
</p><p>Warning: the stream must be finalized manually after reading, using
<span><a href=".././api/Ocsigen_stream#VALfinalize">Ocsigen_stream.finalize</a></span>, otherwise you will have fd leaks.</p></div><pre class="ocsforge_color odocwiki_code" id="VALraw_request"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">raw_request</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?client:</span><span><a href=".././api/Ocsigen_extensions#TYPEclient">Ocsigen_extensions.client</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_alive:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?headers:</span><span><a href=".././api/Http_headers#TYPEt">Http_headers.t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?https:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?port:</span>int <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">content:</span>string <span><a href=".././api/Ocsigen_stream#TYPEt">Ocsigen_stream.t</a></span> option <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?content_length:</span>int64 <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">http_method:</span><span><a href=".././api/Ocsigen_http_frame.Http_header#TYPEhttp_method">Ocsigen_http_frame.Http_header.http_method</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">host:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">inet_addr:</span><span class="ocsforge_color_uid">Unix</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">inet_addr</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">uri:</span>string <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Ocsigen_http_frame#TYPEt">Ocsigen_http_frame.t</a></span> <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Do an HTTP request (low level).
</p><p>If the optional argument <span class="odocwiki_inlinecode">headers</span> is present, no headers will be
added by Ocsigen, but those in this argument and host, and
<span class="odocwiki_inlinecode">connection: close</span> or <span class="odocwiki_inlinecode">connection: keep-alive</span>.
Be carefull to respect HTTP/1.1 in this case!
(<span class="odocwiki_inlinecode">host</span> is the full Host HTTP field to send).
</p><p>The default port is 80 for HTTP, 443 for HTTPS.
</p><p>The default protocol is http (<span class="odocwiki_inlinecode">https=false</span>).
</p><p>The optional parameter <span class="odocwiki_inlinecode">~keep_alive</span> asks to keep the connection opened
after the request for a short amount of time
to allow other requests to the same server to use the same connection.
It is true by default.
If there is one opened free connection, we will use it instead of opening
a new one.
</p><p>If you do this request to serve it later to a client or to generate a page
for a client, add the optional parameter <span class="odocwiki_inlinecode">~client</span>.
Thus, the request you do will be pipelined
with other requests coming from the same connection.
A request will never be pipelined after a request from another client
connection.
Pipelining will be used only for requests to server we know supporting it
(according to previous requests).
It is recommended to specify this optional parameter for all requests
(with the value found in field
<span class="odocwiki_inlinecode">ri_client</span> of type <span><a href=".././api/Ocsigen_extensions#TYPErequest_info">Ocsigen_extensions.request_info</a></span>).
</p><p>The optional parameter <span class="odocwiki_inlinecode">?head</span> asks to do a <span class="odocwiki_inlinecode">HEAD</span> HTTP request.
It is <span class="odocwiki_inlinecode">false</span> by default.
</p><p>When called without the last parameter, the function will pipeline
the request (if needed), then return the function to get the page.
This allows to keep pipeline order when writing an extension.</p></div><pre class="ocsforge_color odocwiki_code" id="VALbasic_raw_request"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">basic_raw_request</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?headers:</span><span><a href=".././api/Http_headers#TYPEt">Http_headers.t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?https:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?port:</span>int <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">content:</span>string <span><a href=".././api/Ocsigen_stream#TYPEt">Ocsigen_stream.t</a></span> option <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?content_length:</span>int64 <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">http_method:</span><span><a href=".././api/Ocsigen_http_frame.Http_header#TYPEhttp_method">Ocsigen_http_frame.Http_header.http_method</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">host:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">inet_addr:</span><span class="ocsforge_color_uid">Unix</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">inet_addr</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">uri:</span>string <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Ocsigen_http_frame#TYPEt">Ocsigen_http_frame.t</a></span> <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Same as <span><a href=".././api/Ocsigen_http_client#VALraw_request">Ocsigen_http_client.raw_request</a></span>,
but does not try to reuse connections.
Opens a new connections for each request. Far less efficient.</p></div></article></div></div></body></html>
